<!DOCTYPE html>
<html>
<head>
<title>Brain Signal Dashboard</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
body{margin:0;font-family:"Segoe UI";background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);color:white}
.top-bar{display:flex;justify-content:space-between;padding:20px 40px}
.dashboard{display:flex;flex-wrap:wrap;justify-content:center;gap:25px;padding:30px}
.card{background:rgba(255,255,255,0.08);border-radius:18px;padding:25px;width:260px;text-align:center}
.value{font-size:32px;font-weight:bold}
.normal{color:#00ff99}
.abnormal{color:#ff4d4d}
</style>
</head>
<body>

<div class="top-bar">
<h1>ðŸ§  Brain Signal Monitoring</h1>
<div>
<a href="/admin">Admin</a>
<a href="/logout">Logout</a>
</div>
</div>

<div class="dashboard">

<div class="card">
<h2>ECG</h2>
<div class="value ecg">{{ ecg }}</div>
</div>

<div class="card">
<h2>Heart Rate</h2>
<div class="value hr">{{ hr }}</div>
</div>

<div class="card">
<h2>SpO2</h2>
<div class="value spo2">{{ spo2 }}</div>
</div>

<div class="card">
<h2>Status</h2>
<div class="value status {% if 'Abnormal' in status %}abnormal{% else %}normal{% endif %}">
{{ status }}
</div>
</div>

</div>

<script>
setInterval(async ()=>{
const res=await fetch('/api/health');
const data=await res.json();
document.querySelector('.ecg').innerText=data.ecg;
document.querySelector('.hr').innerText=data.hr;
document.querySelector('.spo2').innerText=data.spo2;
document.querySelector('.status').innerText=data.status;
},2000);
</script>

</body>
</html>